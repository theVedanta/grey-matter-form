<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Grey Matters - Registered</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />
    </head>
    <body class="bg-dark text-white">
        <main class="container center">
            <h1 class="text-center mt-5">Thank you for registering</h1>
            <div class="mb-3 mt-5">
                <label class="form-label text-white"
                    >(copy and dm this token to the Grey Matters BOT)<br />
                    <b>Both of the participants are required to do so.</b
                    ><br /><br />Your token
                </label>
                <input
                    type="text"
                    class="form-control form-control-lg bg-dark text-white"
                    placeholder="token"
                    readonly
                    value="<%= token %>"
                />
                <div class="row mt-4">
                    <button
                        class="btn btn-lg btn-light"
                        id="copy"
                        onclick="copy(this)"
                    >
                        Copy
                    </button>
                </div>
            </div>

            <h3 class="mt-lg-5">Here are your details</h3>
            <h5>(Please take a screenshot for further use)</h5>
            <table class="table text-white text-center table-dark">
                <thead>
                    <tr>
                        <th style="border-right: 2px solid #fff">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Phone</th>
                        <th scope="col">Email</th>
                        <th scope="col">School</th>
                    </tr>
                </thead>
                <tbody>
                    <% for (let part of participants) { %>
                    <tr>
                        <th style="border-right: 2px solid #fff">
                            Participant
                        </th>
                        <td><%= part.name %></td>
                        <td><%= part.phone %></td>
                        <td><%= part.mail %></td>
                        <td><%= school %></td>
                    </tr>
                    <% } %>
                    <tr>
                        <th style="border-right: 2px solid #fff" scope="col">
                            Teacher
                        </th>
                        <td><%= teacher.name %></td>
                        <td><%= teacher.phone %></td>
                        <td>-</td>
                        <td><%= school %></td>
                    </tr>
                </tbody>
            </table>
        </main>

        <!-- JS -->
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"
        ></script>
        <script>
            function copy(btn) {
                const inp = btn.parentElement.previousElementSibling;

                const range = document.createRange();
                window.getSelection().removeAllRanges();
                range.selectNode(inp);
                window.getSelection().addRange(range);
                document.execCommand("copy");
                window.getSelection().removeAllRanges();
            }
        </script>
    </body>
</html>
